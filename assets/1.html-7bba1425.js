import{_ as s,X as c,Y as i,Z as a,$ as e,a0 as d,a2 as o,a1 as r,F as t}from"./framework-fa0a4005.js";const l={},p=a("h1",{id:"verdaccio部署",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#verdaccio部署","aria-hidden":"true"},"#"),e(" verdaccio部署")],-1),u=a("h2",{id:"使用docker-compose部署verdaccio",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#使用docker-compose部署verdaccio","aria-hidden":"true"},"#"),e(" 使用docker-compose部署verdaccio")],-1),v={id:"_1-安装docker并配置docker-compose-查看使用方式",tabindex:"-1"},h=a("a",{class:"header-anchor",href:"#_1-安装docker并配置docker-compose-查看使用方式","aria-hidden":"true"},"#",-1),m=r(`<h3 id="_2-创建verdaccio目录" tabindex="-1"><a class="header-anchor" href="#_2-创建verdaccio目录" aria-hidden="true">#</a> 2.创建verdaccio目录</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /data/env/verdaccio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-授权目录为777-不配置会导致无法存储镜像" tabindex="-1"><a class="header-anchor" href="#_3-授权目录为777-不配置会导致无法存储镜像" aria-hidden="true">#</a> 3.授权目录为777 (不配置会导致无法存储镜像)</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>\`\`\`bash
<span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> /data/env/verdaccio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-映射目录配置-附配置文件" tabindex="-1"><a class="header-anchor" href="#_3-映射目录配置-附配置文件" aria-hidden="true">#</a> 3.映射目录配置 (附配置文件)</h3><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.6&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">verdaccio</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> verdaccio/verdaccio
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> verdaccio
    <span class="token key atrule">user</span><span class="token punctuation">:</span> root
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /etc/localtime<span class="token punctuation">:</span>/etc/localtime
      <span class="token punctuation">-</span> /home/env/verdaccio/conf<span class="token punctuation">:</span>/verdaccio/conf
      <span class="token punctuation">-</span> /data/env/verdaccio/storage<span class="token punctuation">:</span>/verdaccio/storage
      <span class="token punctuation">-</span> /data/env/verdaccio/plugins<span class="token punctuation">:</span>/verdaccio/plugins
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;7780:4873&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-启动verdaccio" tabindex="-1"><a class="header-anchor" href="#_4-启动verdaccio" aria-hidden="true">#</a> 4.启动verdaccio</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-访问verdaccio" tabindex="-1"><a class="header-anchor" href="#_5-访问verdaccio" aria-hidden="true">#</a> 5.访问verdaccio</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>http://ip:7780
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_6-完成verdaccio安装" tabindex="-1"><a class="header-anchor" href="#_6-完成verdaccio安装" aria-hidden="true">#</a> 6.完成verdaccio安装</h3>`,11);function k(b,_){const n=t("RouterLink");return c(),i("div",null,[p,u,a("h3",v,[h,e(" 1.安装docker并配置docker-compose "),d(n,{to:"/server/docker/1.html"},{default:o(()=>[e("查看使用方式")]),_:1})]),m])}const f=s(l,[["render",k],["__file","1.html.vue"]]);export{f as default};
