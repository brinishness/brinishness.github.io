import{_ as n,X as i,Y as c,Z as a,$ as e,a0 as d,a2 as t,a1 as r,F as o}from"./framework-fa0a4005.js";const l={},u=a("h1",{id:"verdaccio部署",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#verdaccio部署","aria-hidden":"true"},"#"),e(" verdaccio部署")],-1),p=a("h2",{id:"使用docker-compose部署verdaccio",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#使用docker-compose部署verdaccio","aria-hidden":"true"},"#"),e(" 使用docker-compose部署verdaccio")],-1),h={id:"_1-安装docker并配置docker-compose-查看使用方式",tabindex:"-1"},v=a("a",{class:"header-anchor",href:"#_1-安装docker并配置docker-compose-查看使用方式","aria-hidden":"true"},"#",-1),m=r(`<h3 id="_2-创建verdaccio目录" tabindex="-1"><a class="header-anchor" href="#_2-创建verdaccio目录" aria-hidden="true">#</a> 2.创建verdaccio目录</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /data/env/verdaccio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-授权目录为777-不配置会导致无法存储镜像" tabindex="-1"><a class="header-anchor" href="#_3-授权目录为777-不配置会导致无法存储镜像" aria-hidden="true">#</a> 3.授权目录为777 (不配置会导致无法存储镜像)</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>\`\`\`bash
<span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> /data/env/verdaccio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-映射目录配置-附配置文件" tabindex="-1"><a class="header-anchor" href="#_3-映射目录配置-附配置文件" aria-hidden="true">#</a> 3.映射目录配置 (附配置文件)</h3><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.6&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">nexus</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> sonatype/nexus3
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> nexus
    <span class="token key atrule">privileged</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /etc/localtime<span class="token punctuation">:</span>/etc/localtime
      <span class="token punctuation">-</span> /data/env/nexus/data<span class="token punctuation">:</span>/nexus<span class="token punctuation">-</span>data
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;7680:8081&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;7650:5000&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-启动nexus" tabindex="-1"><a class="header-anchor" href="#_4-启动nexus" aria-hidden="true">#</a> 4.启动nexus</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker-compose</span> up <span class="token parameter variable">-d</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5-访问nexus" tabindex="-1"><a class="header-anchor" href="#_5-访问nexus" aria-hidden="true">#</a> 5.访问nexus</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>http://ip:7680
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_6-获取初始密码" tabindex="-1"><a class="header-anchor" href="#_6-获取初始密码" aria-hidden="true">#</a> 6.获取初始密码</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> nexus <span class="token function">cat</span> /nexus-data/admin.password
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_7-修改密码" tabindex="-1"><a class="header-anchor" href="#_7-修改密码" aria-hidden="true">#</a> 7.修改密码</h3><h3 id="_8-完成nexus安装" tabindex="-1"><a class="header-anchor" href="#_8-完成nexus安装" aria-hidden="true">#</a> 8.完成nexus安装</h3>`,14);function k(b,_){const s=o("RouterLink");return i(),c("div",null,[u,p,a("h3",h,[v,e(" 1.安装docker并配置docker-compose "),d(s,{to:"/server/docker/1.html"},{default:t(()=>[e("查看使用方式")]),_:1})]),m])}const g=n(l,[["render",k],["__file","1.html.vue"]]);export{g as default};
